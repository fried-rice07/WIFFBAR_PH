{% extends 'base.html'%}
{% block content %}
<link rel="stylesheet" 
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
<section style="background-color: #eee;">


    <div class="row">

      <div class="col-lg-4">

        <div class="card mb-4">
          <a href="{% url 'home' %}" style="color:black;"><i style="font-size: 15px; padding: 10px; text-decoration: underline;" class="fa-sharp fa-solid fa-arrow-left"> Go back</i></a>
          <div class="card-body text-center">


            {% if request.user.photo %}
            <img src="{{request.user.photo.url}}" alt="avatar"
              class="rounded-circle img-fluid" style="width: 200px;">
            {% else %}
            {% load static %}
            <img src="{% static 'images/profile.png'%}" alt="avatar"
            class="rounded-circle img-fluid" style="width: 200px;">
            {% endif %}
            <h5 class="my-5"  style="font-weight: 800 ;">{{request.user.username}}</h5>
            <p class="text-muted mb-1"  style="font-weight: 800 ;">Customer {{user.id}}</p>
            {% if request.user.address %}
            <p class="text-muted mb-4"  style="font-weight: 800 ;">{{request.user.address}}</p>
            {% else %}
            <p class="text-muted mb-4">No address</p>
            {% endif %}
            <div class="d-flex justify-content-center mb-2">
              <a href="{% url 'edit-profile' user.id %}">
                <button type="button" class="btn btn-primary" style="margin-right:5px ;">Edit Profile</button>
              </a>
         
            </div>
            <div class="d-flex justify-content-center mb-2">
                <a href="{% url 'logout' %}">Log out</a>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-8">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Full Name: </p>
              </div>
              <div class="col-sm-9">
                {% if request.user.first_name %}
                <p class="text-muted mb-0"  style="font-weight: 800 ;">{{request.user.first_name}} {{request.user.last_name}}</p>
                {% else %}
                <p class="text-muted mb-0">No Name</p>
                {% endif %}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Email: </p>
              </div>
              <div class="col-sm-9">
                {% if request.user.email %}
                <p class="text-muted mb-0" style="font-weight: 800 ;">{{request.user.email}}</p>
                {% else %}
                <p class="text-muted mb-0">No Email</p>
                {%endif %}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Mobile: </p>
              </div>
              <div class="col-sm-9">
                {% if request.user.phone_no %}
                <p class="text-muted mb-0"  style="font-weight: 800 ;" >{{request.user.phone_no}}</p>
                {% else %}
                <p class="text-muted mb-0">No Mobile Number</p>
                {% endif %}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <p class="mb-0">Address: </p>
              </div>
              <div class="col-sm-9">
                {% if request.user.address %}
                <p class="text-muted mb-0"  style="font-weight: 800 ;">{{request.user.address}}</p>
                {% else %}
                <p class="text-muted mb-0">No Address</p>
                {%endif %}
              </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Gender: </p>
                </div>
                <div class="col-sm-9">
                  {% if request.user.gender %}
                  <p class="text-muted mb-0"  style="font-weight: 800 ;">{{request.user.gender}}</p>
                  {% else %}
                  <p class="text-muted mb-0">Undecided</p>
                  {%endif %}
                </div>
              </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="card mb-4 mb-md-0">
              <div class="card-body">
              <p class="mb-4"><span class="text-primary font-italic me-1"></span><b>Order History</b>
                <p class="mt-4 mb-1" style="font-size: 1rem;">Cart Item</p>

                {% for items in item %}
               
                <center>{{items.product.name_prod}}</center>
                <div  style="height: 2px; background-color: red; ">
                 <hr>
                </div>
                {% endfor %}
     
                </p>
                <p class="mt-4 mb-1" style="font-size: 1rem;">Cart Items Total</p>
                <center>{{cartItems}}</center>
                <div  style="height: 2px; background-color: red; ">
                  <hr>
                 </div>
      
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card mb-4 mb-md-0">
              <div class="card-body">
                <p class="mb-4"><span class="text-primary font-italic me-1"></span><b>Transaction Date</b>
                </p>
                <p class="mt-4 mb-1" style="font-size: 1rem;">Date & Time</p>

                {% for items in item %}
                <center>{{items.date_added}}</center>
                <div  style="height: 2px; background-color: red; ">
                  <hr>
                 </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock content %}